<p></p><p>--========================================================</p><p>--使用发布库日志来查找大事务</p><p>--在发布库上运行</p><p>SELECT [Transaction ID],COUNT(1) AS LogCount</p><p>FROM ::fn_dblog(NULL, NULL) WHERE Description=&#39;REPLICATE&#39;</p><p>GROUP BY [Transaction ID]</p><p>HAVING COUNT(1)&gt;500</p><p>--===============================================================</p><p>--在分发库上查找大事务</p><p>USE distribution</p><p>GO</p><p>SELECT xact_seqno, COUNT(*) AS [COUNT]&nbsp;</p><p>INTO #MSrepl_commands FROM dbo.MSrepl_commands</p><p>GROUP BY xact_seqno</p><p>HAVING COUNT(*)&gt;100</p><p>SELECT t.xact_seqno,t.entry_time,c.[count]&nbsp;</p><p>FROM MSrepl_Transactions t INNER JOIN</p><p>#MSrepl_commands c ON t.xact_seqno=c.xact_seqno</p><p>ORDER BY c.count DESC,t.entry_time</p>