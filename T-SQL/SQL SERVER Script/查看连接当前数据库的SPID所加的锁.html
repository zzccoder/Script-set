<p></p><p>--查看连接当前数据库的SPID所加的锁</p><p><br/></p><p>SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED&nbsp;</p><p>SELECT DB_NAME(resource_database_id) AS DatabaseName&nbsp;</p><p>, request_session_id&nbsp;</p><p>, resource_type&nbsp;</p><p>, CASE&nbsp;</p><p>WHEN resource_type = &#39;OBJECT&#39;&nbsp;</p><p>THEN OBJECT_NAME(resource_associated_entity_id)&nbsp;</p><p>WHEN resource_type IN (&#39;KEY&#39;, &#39;PAGE&#39;, &#39;RID&#39;)&nbsp;</p><p>THEN (SELECT OBJECT_NAME(OBJECT_ID)&nbsp;</p><p>FROM sys.partitions p&nbsp;</p><p>WHERE p.hobt_id = l.resource_associated_entity_id)&nbsp;</p><p>END AS resource_type_name&nbsp;</p><p>, request_status&nbsp;</p><p>, request_mode&nbsp;</p><p>FROM sys.dm_tran_locks l&nbsp;</p><p>WHERE request_session_id !=@@spid&nbsp;</p><p>ORDER BY request_session_id</p>