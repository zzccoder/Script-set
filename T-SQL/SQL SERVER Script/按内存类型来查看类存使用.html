<p></p><p style="font-size: 16px; white-space: normal; orphans: 2; widows: 2;"><span style="font-size: 14px;">--=================================================</span></p><p style="font-size: 16px; white-space: normal; orphans: 2; widows: 2;"><span style="font-size: 14px;">--按内存类型来查看类存使用</span></p><p style="font-size: 16px; white-space: normal; orphans: 2; widows: 2;"><span style="font-size: 14px;">SELECT M.type,</span></p><p style="font-size: 16px; white-space: normal; orphans: 2; widows: 2;"><span style="font-size: 14px;">sum(M.virtual_memory_reserved_kb) AS VirtualMemoryReservedKB,</span></p><p style="font-size: 16px; white-space: normal; orphans: 2; widows: 2;"><span style="font-size: 14px;">SUM(M.virtual_memory_committed_kb) AS VirtualMemortCommitedKB,</span></p><p style="font-size: 16px; white-space: normal; orphans: 2; widows: 2;"><span style="font-size: 14px;">SUM(M.shared_memory_committed_kb) AS SharedMemroyCommittedKB,</span></p><p style="font-size: 16px; white-space: normal; orphans: 2; widows: 2;"><span style="font-size: 14px;">SUM(M.shared_memory_reserved_kb) AS SharedMemroyReservedKB,</span></p><p style="font-size: 16px; white-space: normal; orphans: 2; widows: 2;"><span style="font-size: 14px;">SUM(M.multi_pages_kb) AS MultiPagesKB,</span></p><p style="font-size: 16px; white-space: normal; orphans: 2; widows: 2;"><span style="font-size: 14px;">SUM(M.single_pages_kb) AS SinglePagesKB,</span></p><p style="font-size: 16px; white-space: normal; orphans: 2; widows: 2;"><span style="font-size: 14px;">SUM(M.multi_pages_kb)+SUM(M.single_pages_kb) AS TotalPagesKB</span></p><p style="font-size: 16px; white-space: normal; orphans: 2; widows: 2;"><span style="font-size: 14px;">FROM sys.dm_os_memory_clerks M</span></p><p style="font-size: 16px; white-space: normal; orphans: 2; widows: 2;"><span style="font-size: 14px;">GROUP BY M.type</span></p><p style="font-size: 16px; white-space: normal; orphans: 2; widows: 2;"><span style="font-size: 14px;">ORDER BY TotalPagesKB DESC</span></p>