<p>--数据库级别等待的IO</p><p>--IO stall:Total time,that users waited for I/O to be completed on the file.</p><p><br/></p><p>SET TRAN ISOLATION LEVEL READ UNCOMMITTED&nbsp;</p><p>SELECT DB_NAME(database_id) AS [DatabaseName]&nbsp;</p><p>, SUM(CAST(io_stall / 1000.0 AS DECIMAL(20,2))) AS [IO stall (secs)]&nbsp;</p><p>, SUM(CAST(num_of_bytes_read / 1024.0 / 1024.0 AS DECIMAL(20,2))) AS [IO read (MB)]&nbsp;</p><p>, SUM(CAST(num_of_bytes_written / 1024.0 / 1024.0 &nbsp;AS DECIMAL(20,2))) AS [IO written (MB)&nbsp;</p><p>, SUM(CAST((num_of_bytes_read + num_of_bytes_written) / 1024.0 / 1024.0 AS DECIMAL(20,2))) AS [TotalIO (MB)]</p><p>FROM sys.dm_io_virtual_file_stats(NULL, NULL)&nbsp;</p><p>GROUP BY database_id&nbsp;</p><p>ORDER BY [IO stall (secs)] DESC</p><p><br/></p>